<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>docker004 container 容器 | Hello World</title>
    <meta name="description" content="okeyear blog">
    <link rel="stylesheet" href="/assets/style.d8cc85cb.css">
    <link rel="modulepreload" href="/assets/chunks/AlgoliaSearchBox.c6c06635.js">
    <link rel="modulepreload" href="/assets/app.3a9754ab.js">
    <link rel="modulepreload" href="/assets/cloudnative_docker_docker-container.md.8da5f169.lean.js">
    
    <meta name="twitter:title" content="docker004 container 容器 | Hello World">
  <meta property="og:title" content="docker004 container 容器 | Hello World">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="Hello World, back to home" data-v-675d8756 data-v-cc01ef16><!----> Hello World</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/" data-v-b8818f8c>Home <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-dropdown-link" data-v-eab3edfe data-v-56bf3a3f><button class="button" data-v-56bf3a3f><span class="button-text" data-v-56bf3a3f>Linux</span><span class="right button-arrow" data-v-56bf3a3f></span></button><ul class="dialog" data-v-56bf3a3f><!--[--><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/linux/distro/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>Distro</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/linux/command/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>Command</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/linux/rootfs/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>RootFS</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/linux/service/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>Service</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-eab3edfe><div class="nav-dropdown-link" data-v-eab3edfe data-v-56bf3a3f><button class="button" data-v-56bf3a3f><span class="button-text" data-v-56bf3a3f>CloudNative</span><span class="right button-arrow" data-v-56bf3a3f></span></button><ul class="dialog" data-v-56bf3a3f><!--[--><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item active" href="/cloudnative/docker/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>Docker</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/cloudnative/k8s/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>K8S</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/cloudnative/vmware/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>VMWare</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/cloudnative/terraform/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>Terraform</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/windows/" data-v-b8818f8c>Windows <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/netwok/" data-v-b8818f8c>Netwok <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/shell/" data-v-b8818f8c>Shell <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/powershell/" data-v-b8818f8c>PowerShell <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-dropdown-link" data-v-eab3edfe data-v-56bf3a3f><button class="button" data-v-56bf3a3f><span class="button-text" data-v-56bf3a3f>Python</span><span class="right button-arrow" data-v-56bf3a3f></span></button><ul class="dialog" data-v-56bf3a3f><!--[--><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/python/base/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>Base</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/python/module/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>Module</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-eab3edfe><div class="nav-dropdown-link" data-v-eab3edfe data-v-56bf3a3f><button class="button" data-v-56bf3a3f><span class="button-text" data-v-56bf3a3f>Web</span><span class="right button-arrow" data-v-56bf3a3f></span></button><ul class="dialog" data-v-56bf3a3f><!--[--><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/web/html/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>HTML</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/web/css/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>CSS</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/web/javascript/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>JavaScript</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/web/es6/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>ES6</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/web/typescript/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>TypeScript</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/web/vue/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>Vue</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/vscode/" data-v-b8818f8c>VSCode <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-dropdown-link" data-v-eab3edfe data-v-56bf3a3f><button class="button" data-v-56bf3a3f><span class="button-text" data-v-56bf3a3f>Game</span><span class="right button-arrow" data-v-56bf3a3f></span></button><ul class="dialog" data-v-56bf3a3f><!--[--><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/game/poe/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>POE</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/game/d3/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>D3</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/game/ahk/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>AHK</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/about/" data-v-b8818f8c>About <!----></a></div></div><!--]--><!----><!----></nav></div><!--[--><!--[--><div class="algolia-search-box" id="docsearch"></div><!--]--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/" data-v-b8818f8c>Home <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-dropdown-link" data-v-eab3edfe data-v-56bf3a3f><button class="button" data-v-56bf3a3f><span class="button-text" data-v-56bf3a3f>Linux</span><span class="right button-arrow" data-v-56bf3a3f></span></button><ul class="dialog" data-v-56bf3a3f><!--[--><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/linux/distro/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>Distro</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/linux/command/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>Command</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/linux/rootfs/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>RootFS</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/linux/service/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>Service</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-eab3edfe><div class="nav-dropdown-link" data-v-eab3edfe data-v-56bf3a3f><button class="button" data-v-56bf3a3f><span class="button-text" data-v-56bf3a3f>CloudNative</span><span class="right button-arrow" data-v-56bf3a3f></span></button><ul class="dialog" data-v-56bf3a3f><!--[--><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item active" href="/cloudnative/docker/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>Docker</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/cloudnative/k8s/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>K8S</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/cloudnative/vmware/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>VMWare</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/cloudnative/terraform/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>Terraform</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/windows/" data-v-b8818f8c>Windows <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/netwok/" data-v-b8818f8c>Netwok <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/shell/" data-v-b8818f8c>Shell <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/powershell/" data-v-b8818f8c>PowerShell <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-dropdown-link" data-v-eab3edfe data-v-56bf3a3f><button class="button" data-v-56bf3a3f><span class="button-text" data-v-56bf3a3f>Python</span><span class="right button-arrow" data-v-56bf3a3f></span></button><ul class="dialog" data-v-56bf3a3f><!--[--><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/python/base/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>Base</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/python/module/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>Module</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-eab3edfe><div class="nav-dropdown-link" data-v-eab3edfe data-v-56bf3a3f><button class="button" data-v-56bf3a3f><span class="button-text" data-v-56bf3a3f>Web</span><span class="right button-arrow" data-v-56bf3a3f></span></button><ul class="dialog" data-v-56bf3a3f><!--[--><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/web/html/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>HTML</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/web/css/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>CSS</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/web/javascript/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>JavaScript</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/web/es6/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>ES6</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/web/typescript/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>TypeScript</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/web/vue/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>Vue</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/vscode/" data-v-b8818f8c>VSCode <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-dropdown-link" data-v-eab3edfe data-v-56bf3a3f><button class="button" data-v-56bf3a3f><span class="button-text" data-v-56bf3a3f>Game</span><span class="right button-arrow" data-v-56bf3a3f></span></button><ul class="dialog" data-v-56bf3a3f><!--[--><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/game/poe/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>POE</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/game/d3/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>D3</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/game/ahk/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>AHK</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/about/" data-v-b8818f8c>About <!----></a></div></div><!--]--><!----><!----></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><a class="sidebar-link-item" href="#查看">查看</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#创建">创建</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#退出容器">退出容器</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#与容器运行模式相关参数">与容器运行模式相关参数</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#与容器和环境配置相关参数">与容器和环境配置相关参数</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#与容器资源限制和安全保护相关参数">与容器资源限制和安全保护相关参数</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#终止容器-docker-stop">终止容器 docker stop</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#暂停容器-pause-unpause">暂停容器 pause/unpause</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#进入容器">进入容器</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#删除容器-docker-rm">删除容器 docker rm</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#导入-导出容器">导入/导出容器</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#容器限额">容器限额</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#限额内存-run">限额内存(run)</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#限额cpu-run">限额CPU(run)</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#限额block-io-run">限额Block IO(run)</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#cp复制命令">cp复制命令</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#logs查看日志">logs查看日志</a><!----></li><!--]--></ul><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><h1 id="docker004-container-容器" tabindex="-1">docker004 container 容器 <a class="header-anchor" href="#docker004-container-容器" aria-hidden="true">#</a></h1><p>容器是镜像的一个运行实例.</p><h2 id="查看" tabindex="-1">查看 <a class="header-anchor" href="#查看" aria-hidden="true">#</a></h2><div class="language-bash"><pre><code><span class="token comment"># docker ps</span>
<span class="token comment"># ps选项常用的是a和q</span>
  -a, --all             Show all containers <span class="token punctuation">(</span>default shows just running<span class="token punctuation">)</span>
  -q, --quiet           Only display container IDs
<span class="token function">docker</span> <span class="token function">ps</span> -a

<span class="token function">docker</span> container <span class="token function">ls</span>
<span class="token function">docker</span> container <span class="token function">ls</span> -a

<span class="token comment"># 查看容器内部信息</span>
<span class="token function">docker</span> <span class="token function">top</span> <span class="token function">id</span>
</code></pre></div><h2 id="创建" tabindex="-1">创建 <a class="header-anchor" href="#创建" aria-hidden="true">#</a></h2><p><strong>docker run = docker create + docker start</strong></p><div class="language-bash"><pre><code><span class="token function">docker</span> run --help
<span class="token comment"># Usage:  docker run [OPTIONS] IMAGE [COMMAND] [ARG...]</span>

<span class="token comment"># examples</span>
<span class="token comment"># 1. 交互式</span>
<span class="token function">docker</span> run -it ubuntu /bin/bash
<span class="token comment"># 2. daemon方式</span>
</code></pre></div><p>常用options如下:</p><ul><li>创建容器 docker create</li></ul><p>stdin: 指定标准输入输出内容类型，可选 STDIN/STDOUT/STDERR 三项；</p><p>-d: 后台运行容器，并返回容器ID；</p><p>-i: 以交互模式运行容器，通常与 -t 同时使用；</p><p>--rm: 容器执行完命令或程序后就销毁</p><p>-P: 随机端口映射，容器内部端口随机映射到主机的高端口</p><p>-p: 指定端口映射，格式为：主机(宿主)端口:容器端口</p><p>-t: 为容器重新分配一个伪输入终端，通常与 -i 同时使用；</p><p>--name=&quot;nginx-lb&quot;: 为容器指定一个名称；</p><p>--dns 8.8.8.8: 指定容器使用的DNS服务器，默认和宿主一致；</p><p>--dns-search <a href="http://example.com" target="_blank" rel="noopener noreferrer">example.com</a>: 指定容器DNS搜索域名，默认和宿主一致；</p><p>-h &quot;mars&quot;: 指定容器的hostname；</p><p>-e username=&quot;ritchie&quot;: 设置环境变量；</p><p>--env-file=[]: 从指定文件读入环境变量；</p><p>--cpuset=&quot;0-2&quot; or --cpuset=&quot;0,1,2&quot;: 绑定容器到指定CPU运行；</p><p>-m :设置容器使用内存最大值；</p><p>--net=&quot;bridge&quot;: 指定容器的网络连接类型，支持 bridge/host/none/container: 四种类型；</p><p>--link=[]: 添加链接到另一个容器；</p><p>--expose=[]: 开放一个端口或一组端口；</p><p>--volume , -v: 绑定一个卷</p><ul><li>启动容器 docker start</li></ul><p>--restart=always 意味着无论容器因何种原因退出（包括正常退出），就立即重启。该参数的形式还可以是 --restart=on-failure:3，意思是如果启动进程退出代码非0，则重启容器，最多重启3次。</p><h2 id="退出容器" tabindex="-1">退出容器 <a class="header-anchor" href="#退出容器" aria-hidden="true">#</a></h2><div class="language-bash"><pre><code><span class="token comment"># 1. run进去, exit方式退出, 容器停止</span>
<span class="token comment"># 2. run进去, ctrl+p+q退出, 容器不停止</span>

</code></pre></div><h3 id="与容器运行模式相关参数" tabindex="-1">与容器运行模式相关参数 <a class="header-anchor" href="#与容器运行模式相关参数" aria-hidden="true">#</a></h3><h3 id="与容器和环境配置相关参数" tabindex="-1">与容器和环境配置相关参数 <a class="header-anchor" href="#与容器和环境配置相关参数" aria-hidden="true">#</a></h3><h3 id="与容器资源限制和安全保护相关参数" tabindex="-1">与容器资源限制和安全保护相关参数 <a class="header-anchor" href="#与容器资源限制和安全保护相关参数" aria-hidden="true">#</a></h3><h2 id="终止容器-docker-stop" tabindex="-1">终止容器 docker stop <a class="header-anchor" href="#终止容器-docker-stop" aria-hidden="true">#</a></h2><div class="language-bash"><pre><code>
<span class="token function">docker</span> stop 容器ID或名称（ID可以简写，唯一即可）
<span class="token function">docker</span> container stop

<span class="token comment"># 停止所有容器</span>
<span class="token function">docker</span> stop <span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> <span class="token function">ps</span> -a -q<span class="token variable">)</span></span> 
</code></pre></div><h3 id="暂停容器-pause-unpause" tabindex="-1">暂停容器 pause/unpause <a class="header-anchor" href="#暂停容器-pause-unpause" aria-hidden="true">#</a></h3><p>有时我们只是希望暂时让容器暂停工作一段时间，比如要对容器的文件系统打个快照，或者 dcoker host 需要使用 CPU，这时可以执行 docker pause。</p><p>处于暂停状态的容器不会占用 CPU 资源，直到通过 docker unpause 恢复运行。</p><h2 id="进入容器" tabindex="-1">进入容器 <a class="header-anchor" href="#进入容器" aria-hidden="true">#</a></h2><h4 id="attach" tabindex="-1">attach <a class="header-anchor" href="#attach" aria-hidden="true">#</a></h4><p>缺点: 所有attach的终端会同步显示,阻塞</p><h4 id="exec" tabindex="-1">exec <a class="header-anchor" href="#exec" aria-hidden="true">#</a></h4><p>退出不会导致容器停止</p><p><code>docker exec -it xxxxxxxx /bin/bash</code></p><h4 id="nsenter工具" tabindex="-1">nsenter工具 <a class="header-anchor" href="#nsenter工具" aria-hidden="true">#</a></h4><h2 id="删除容器-docker-rm" tabindex="-1">删除容器 docker rm <a class="header-anchor" href="#删除容器-docker-rm" aria-hidden="true">#</a></h2><div class="language-bash"><pre><code><span class="token comment"># docker rm 一次可以指定多个容器，如果希望批量删除所有已经退出的容器，可以执行如下命令：</span>
<span class="token function">docker</span> <span class="token function">rm</span> -v <span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> <span class="token function">ps</span> -aq -f <span class="token assign-left variable">status</span><span class="token operator">=</span>exited<span class="token variable">)</span></span>

<span class="token comment"># 因为没有使用 -v，volume 遗留了下来。对于这样的孤儿 volume，可以用 docker volume rm 删除：</span>
<span class="token comment"># 如果想批量删除孤儿 volume，可以执行：</span>
<span class="token function">docker</span> volume <span class="token function">ls</span>
<span class="token function">docker</span> volume <span class="token function">rm</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> volume <span class="token function">ls</span> -q<span class="token variable">)</span></span>
</code></pre></div><h2 id="导入-导出容器" tabindex="-1">导入/导出容器 <a class="header-anchor" href="#导入-导出容器" aria-hidden="true">#</a></h2><p>docker export x.tar xxx docker import x.tar - test/ubuntu:v1.0</p><h2 id="容器限额" tabindex="-1">容器限额 <a class="header-anchor" href="#容器限额" aria-hidden="true">#</a></h2><h2 id="限额内存-run" tabindex="-1">限额内存(run) <a class="header-anchor" href="#限额内存-run" aria-hidden="true">#</a></h2><p>docker run --help</p><p>容器可使用的内存包括两部分：物理内存和 swap</p><p>-m 或 --memory：设置内存的使用限额，例如 100M, 2G。 --memory-swap：设置 内存+swap 的使用限额。</p><p>docker run -m 200M --memory-swap=300M ubuntu</p><p>其含义是允许该容器最多使用 200M 的内存和 100M 的 swap。默认情况下，上面两组参数为 -1，即对容器内存和 swap 的使用没有限制。</p><p>下面我们将使用 progrium/stress 镜像来学习如何为容器分配内存。该镜像可用于对容器执行压力测试。执行如下命令：</p><p>docker run -it -m 200M --memory-swap=300M progrium/stress --vm 1 --vm-bytes 280M</p><p>--vm 1：启动 1 个内存工作线程。</p><p>--vm-bytes 280M：每个线程分配 280M 内存。</p><p>docker run -it -m 200M --memory-swap=300M progrium/stress --vm 1 --vm-bytes 310M</p><p>如果在启动容器时只指定 -m 而不指定 --memory-swap，那么 --memory-swap 默认为 -m 的两倍，比如：</p><p>docker run -it -m 200M ubuntu</p><p>容器最多使用 200M 物理内存和 200M swap。</p><h2 id="限额cpu-run" tabindex="-1">限额CPU(run) <a class="header-anchor" href="#限额cpu-run" aria-hidden="true">#</a></h2><p>docker run --help</p><p>默认设置下，所有容器可以平等地使用 host CPU 资源并且没有限制。</p><p>Docker 可以通过 -c 或 --cpu-shares 设置容器使用 CPU 的权重。如果不指定，默认值为 1024。</p><p>与内存限额不同，通过 -c 设置的 cpu share 并不是 CPU 资源的绝对数量，而是一个相对的权重值。某个容器最终能分配到的 CPU 资源取决于它的 cpu share 占所有容器 cpu share 总和的比例。</p><p>换句话说：通过 cpu share 可以设置容器使用 CPU 的优先级。</p><h2 id="限额block-io-run" tabindex="-1">限额Block IO(run) <a class="header-anchor" href="#限额block-io-run" aria-hidden="true">#</a></h2><p>Block IO 是另一种可以限制容器使用的资源。Block IO 指的是磁盘的读写，docker 可通过设置权重、限制 bps 和 iops 的方式控制容器读写磁盘的带宽，下面分别讨论。</p><p>默认情况下，所有容器能平等地读写磁盘，可以通过设置 --blkio-weight 参数来改变容器 block IO 的优先级。</p><p>--blkio-weight 与 --cpu-shares 类似，设置的是相对权重值，默认为 500。</p><p>目前 Block IO 限额只对 direct IO（不使用文件缓存）有效。</p><p>限制 bps 和 iops</p><ul><li>bps 是 byte per second，每秒读写的数据量。</li><li>iops 是 io per second，每秒 IO 的次数。</li></ul><p>可通过以下参数控制容器的 bps 和 iops：</p><p>--device-read-bps，限制读某个设备的 bps。</p><p>--device-write-bps，限制写某个设备的 bps。</p><p>--device-read-iops，限制读某个设备的 iops。</p><p>--device-write-iops，限制写某个设备的 iops。</p><p>下面这个例子限制容器写 /dev/sda 的速率为 30 MB/s</p><p>docker run -it --device-write-bps /dev/sda:30MB ubuntu</p><h2 id="cp复制命令" tabindex="-1">cp复制命令 <a class="header-anchor" href="#cp复制命令" aria-hidden="true">#</a></h2><div class="language-bash"><pre><code><span class="token comment"># 从container复制到宿主机</span>
<span class="token function">docker</span> <span class="token function">cp</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span> container:path localPath 
<span class="token comment"># 从宿主机复制到container</span>
<span class="token function">docker</span> <span class="token function">cp</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span> localPath container:path 
</code></pre></div><h2 id="logs查看日志" tabindex="-1">logs查看日志 <a class="header-anchor" href="#logs查看日志" aria-hidden="true">#</a></h2><div class="language-bash"><pre><code>
<span class="token function">docker</span> logs -f  --tail <span class="token number">20</span> container
<span class="token function">docker</span> logs --tail <span class="token number">20</span> -t 00since  container 
</code></pre></div></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-07c132fc><div class="edit" data-v-07c132fc><div class="edit-link" data-v-07c132fc data-v-1ed99556><!----></div></div><div class="updated" data-v-07c132fc><!----></div></footer><!----><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"cloudnative_docker_docker-dockerfile.md\":\"3dc544e1\",\"cloudnative_docker_docker-container.md\":\"8da5f169\",\"cloudnative_docker_docker-image-mysql.md\":\"c5c9c69b\",\"cloudnative_docker_docker-image-tomcat.md\":\"db561da6\",\"cloudnative_docker_docker-image.md\":\"a65f8b21\",\"cloudnative_docker_docker-install.md\":\"e10fee63\",\"cloudnative_docker_docker-registry.md\":\"c615b664\",\"cloudnative_docker_docker-volume.md\":\"f6d0a382\",\"cloudnative_docker_index.md\":\"7f785a3c\",\"cloudnative_k8s_index.md\":\"904ed499\",\"cloudnative_terraform_index.md\":\"74416ce6\",\"cloudnative_vmware_index.md\":\"3e2e4def\",\"game_ahk_index.md\":\"d5284f33\",\"game_d3_index.md\":\"f49487ff\",\"game_poe_index.md\":\"401cd655\",\"index.md\":\"23208123\",\"linux_command_index.md\":\"315bc2aa\",\"linux_command_jjj_join.md\":\"487602fe\",\"linux_command_nnn_nc.md\":\"bfc30317\",\"linux_distro_alpine_alpine-install.md\":\"74e69fa2\",\"linux_distro_alpine_index.md\":\"0d5881e1\",\"linux_distro_index.md\":\"9c21d59a\",\"linux_index.md\":\"51ba410d\",\"linux_rootfs_index.md\":\"e7a60d3f\",\"linux_service_index.md\":\"de40cacf\",\"linux_service_sss_ssh-tunnel.md\":\"6fb68b79\",\"linux_service_sss_ssh.md\":\"422b4dbf\",\"network_index.md\":\"c9153ddb\",\"powershell_index.md\":\"db266a44\",\"python_base_index.md\":\"114dc00b\",\"python_index.md\":\"ef4041b4\",\"python_module_index.md\":\"2bcf8cac\",\"shell_index.md\":\"9b726a41\",\"vscode_index.md\":\"b8957a73\",\"web_css_index.md\":\"5f4a57a9\",\"web_es6_index.md\":\"aae7a337\",\"web_html_index.md\":\"e1a81082\",\"web_index.md\":\"8d52b991\",\"web_javascript_index.md\":\"38cdf7cc\",\"web_typescript_index.md\":\"be909522\",\"web_vue_index.md\":\"73dff249\",\"windows_index.md\":\"4d35f366\",\"windows_software.md\":\"7364c671\"}")</script>
    <script type="module" async src="/assets/app.3a9754ab.js"></script>
    
  </body>
</html>